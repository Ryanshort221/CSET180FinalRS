{% extends "base.html" %}
{% block body%}
<main class="landing_pg">
    <div class="filter_landing">
        <form class="filter_landing_form" action="filter_category" method="POST">
                {% for c in categories %}
                <button name="category" type="submit" value="{{c.category}}">{{c.category}}</input>
                {% endfor %}
        </form>
    </div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
        <h2 class="flashed_msg_landing">{{ message }}</h2>
        {% endfor %}
    {% endif %}
    {% endwith %}
    {% if session.username is not defined %}
    <div class="login_landing">
        <button class="login_btn_landing">Login</button>
    </div>
    <div class="cta">
        <h1>Welcome to the Green Dragon!</h1>
        <p>Shop our range of products!</p>
        <a href="/products"><button>Shop now!</button></a>
    </div>
    <dialog class="modal1">
        <form class="login_form" action="/login" method="POST">
            <h2>Login</h2>
            <input type="text" name="username" id="username" placeholder="Username" required>
            <input type="password" name="password" id="password" placeholder="Password" required>
            <input type="submit" value="Login">
            <p><a href="/register">Need an account sign up here</a></p>
        </form>
        <button class="close_btn">Close</button>
    </dialog>
    {% else %}
    <h2>User currently logged in logout to change users</h2>
    {% endif %}
    <script src="static/js/index.js"></script>
</main>
{% endblock%}