create database cset180final;
use cset180final;

create table users (
	user_id int primary key auto_increment,
    first_name varchar(255) not null,
    last_name varchar(255) not null,
    username varchar(255) unique not null,
    password varchar(255) not null,
    user_type enum('admin', 'vendor', 'customer') not null,
    email varchar(255) unique not null
);

create table orders (
	order_id int primary key auto_increment,
    customer_id int not null,
    order_date date not null,
    price decimal(10,2) not null,
    status enum('pending', 'shipped', 'delivered') not null,
    FOREIGN KEY (customer_id) REFERENCES users(user_id)
);

create table order_items (
	order_id  int not null,
    product_id int not null,
    size varchar(255) not null,
    color varchar(255) not null,
    foreign key (order_id) references orders(order_id),
    foreign key (product_id) references products(product_id)
);

create table products(
	product_id int primary key auto_increment,
    title varchar(255) not null,
    description varchar(255) not null,
    stock_status enum('in stock', 'out of stock', 'backorder') not null,
    added_by int not null,
    warranty_duration varchar(255) default null,
    inventory int not null,
    discounted_price decimal(10,2) default null,
    discount_over_date date default null,
    price decimal(10,2) not null,
    foreign key(added_by) references users(user_id)
);

